### 技术栈

1. vu3
2. pinia状态管理
3. router路由跳转
4. eslint代码格式化
5. Element plus

### 别名路径联想

1. jsconfig进行联想

```
{
  "compilerOptions": {
    // 自动联想路径
    "paths": {
      "@/*": ["./src/*"]
    }
  },
  "exclude": ["node_modules", "dist"]
}
```

2. vite.config.js进行路径转换

```
import { fileURLToPath, URL } from 'node:url'

import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    vue(),
  ],
  resolve: {
    // 实际的路径转换 @ -> src
    alias: {
      '@': fileURLToPath(new URL('./src', import.meta.url))
    }
  }
})
```

### element plus使用步骤

1. 安装`npm install element-plus --save`
2. 配置按需引入(自动)

- 安装插件`npm install -D unplugin-vue-components unplugin-auto-import`
- 配置文件

   ```
   // vite.config.ts
    import { defineConfig } from 'vite'
    import AutoImport from 'unplugin-auto-import/vite'
    import Components from 'unplugin-vue-components/vite'
    import { ElementPlusResolver } from 'unplugin-vue-components/resolvers'

    export default defineConfig({
      // ...
      plugins: [
        // ...
        AutoImport({
          resolvers: [ElementPlusResolver()],
        }),
        Components({
          resolvers: [ElementPlusResolver()],
        }),
      ],
    })
   ```

3. 测试组件

### 自动导入样式文件&&更改主题色

使用sass配色系统

1. 安装sass `npm i sass -D`
2. 准备定制化的样式文件

```
/* 只需要重写你需要的即可 */
//文件路径：src\styles\element\index.scss
@forward 'element-plus/theme-chalk/src/common/var.scss' with (
  $colors: (
    'primary': (
      // 主色
      'base': #27ba9b,
    ),
    'success': (
      // 成功色
      'base': #1dc779,
    ),
    'warning': (
      // 警告色
      'base': #ffb302,
    ),
    'danger': (
      // 危险色
      'base': #e26237,
    ),
    'error': (
      // 错误色
      'base': #cf4444,
    ),
  )
)
```

3. 自动导入配置

```
import { fileURLToPath, URL } from 'node:url'

import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

//Elementplus自动按需引入
import AutoImport from 'unplugin-auto-import/vite'
import Components from 'unplugin-vue-components/vite'
import { ElementPlusResolver } from 'unplugin-vue-components/resolvers'


// https://vitejs.dev/config/
export default defineConfig({
  plugins: [
    vue(),
    //配置插件
    AutoImport({
      resolvers: [ElementPlusResolver()],
    }),
    Components({
      resolvers: [
        //1.配置elementPlus采用sass样式配色系统
        ElementPlusResolver({ importStyle: "sass" }),
      ],
    }),
  ],
  resolve: {
    // 实际的路径转换 @ -> src
    alias: {
      '@': fileURLToPath(new URL('./src', import.meta.url))
    }
  },
  css: {
    preprocessorOptions: {
      scss: {
        // 2.自动导入定制化样式文件进行样式覆盖掉原来的主题色
        additionalData: `
          @use "@/styles/element/index.scss" as *;
          @use "@/styles/var.scss" as *;
        `,
      }
    }
  }
})
```

### 配置axios拦截器

```
//路径：src\utils\http.js
//axios基础的封装
import axios from 'axios'

//创建axios实例
const httpInstance = axios.create({
    baseURL: 'http://pcapi-xiaotuxian-front-devtest.itheima.net',
    timeout: 5000
})

//拦截器

// axios请求拦截器
httpInstance.interceptors.request.use(config => {
    return config
}, e => Promise.reject(e))

// axios响应式拦截器
httpInstance.interceptors.response.use(res => res.data, e => {
    return Promise.reject(e)
})

export default httpInstance
```

测试接口

```
import httpInstance from "@/utils/http"

export function getCategory(){
    // 调用axios实例httpInstance，进行接口测试
    return httpInstance({
        url:'home/category/head'
    })
}
```

### 路由设计

**设计原则：**

- 找内容切换区域，如果页面整体切换，则为一级路由。
- 如果在一级路由页内切换则为二级路由,默认二级路由设置为path:''

### eslint规则

- 如当Login文件夹下的文件名为index.vue时，出现报错
  解决方法：在.eslintrc.cjs下添加

  ```
  rules: {
    'vue/multi-word-component-names': 0,// 不再强制要求组件命名
  }
  ```

### 就近原则创建组件文件夹

如：Layout的组件直接在Layout下创建一个component文件夹
然后再到index.vue渲染组件

### 使用iconfont

1.index.html的head引入,链接地址网站获取`<link rel="stylesheet" href="//at.alicdn.com/t/font_2143783_iq6z4ey5vu.css">`
2.在i标签中的class引入`<i class="iconfont icon-xxx"></i>`

```
<a href="javascript:;">
  <i class="iconfont icon-footer01"></i>
  <span>价格亲民</span>
</a>
```

### 吸顶导航实现

- 准备一个静态导航组件，根据滚动距离用v-show实现渲染
- 滚动距离根据VueUse的useScroll获得`const {y} = useScroll(window)`

### 新鲜好物和人气推荐实现组件复用

1. 不做任何抽象，准备静态模板
2. 抽象可变部分
   - 主标题和副标题为文本，prop传入
   - 主题内容比较复杂，slot传入
